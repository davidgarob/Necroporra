<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NECROPORRA ü™¶</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 1300px;
      margin: auto;
      padding: 2rem;
    }
    h1 { text-align: center; }
    #tabs {
      text-align: center;
      margin-bottom: 2rem;
    }
    #tabs button {
      margin: 0 0.5rem;
      padding: 0.5rem 1rem;
      font-weight: bold;
      cursor: pointer;
    }
    #main-layout {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 2rem;
    }
    #estadisticas, #ranking, #ganador {
      background: #f3f3f3;
      padding: 1rem;
      border-radius: 8px;
    }
    #ganador {
      text-align: center;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #detalle {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin-top: 3rem;
    }
    .jugador {
      border: 1px solid #ccc;
      padding: 1rem;
      border-radius: 8px;
      background: #f9f9f9;
    }
    .muerto {
      text-decoration: line-through;
      color: red;
    }
    .titulo-seccion {
      font-weight: bold;
      text-align: center;
      margin-bottom: 1rem;
      text-transform: uppercase;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 0.5rem;
      border: 1px solid #ccc;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>NECROPORRA ü™¶</h1>
  <div id="tabs">
    <button onclick="cambiarA√±o('2021')">2021</button>
    <button onclick="cambiarA√±o('2022')">2022</button>
    <button onclick="cambiarA√±o('2023')">2023</button>
    <button onclick="cambiarA√±o('2024')">2024</button>
    <button onclick="cambiarA√±o('2025')">2025</button>
  </div>

  <div id="main-layout">
    <div id="estadisticas">
      <div class="titulo-seccion">Estad√≠sticas</div>
      <div id="tabla-estadisticas"></div>
    </div>
    <div id="ganador">
      <div>
        <div class="titulo-seccion">Ganador del a√±o</div>
        <div id="nombre-ganador"></div>
      </div>
    </div>
    <div id="ranking">
      <div class="titulo-seccion">Ranking</div>
      <div id="tabla-ranking"></div>
    </div>
  </div>

  <div id="detalle"></div>


<script>
    const datosPorA√±o = {
      "2021": {
        jugadores: [
          {
            nombre: "DAVID",
            selecciones: [
              { nombre: "Buzz Aldrin", edad: 95 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Isabel II", edad: 96 },
              { nombre: "Pel√©", edad: 82 },
              { nombre: "Val Kilmer", edad: 66 },
              { nombre: "Willie Nelson", edad: 92 },
              { nombre: "Francis Ford Coppola", edad: 86 },
              { nombre: "Carmen Sevilla", edad: 93 },
              { nombre: "Berlusconi", edad: 87 },
              { nombre: "Jaime de Marichalar", edad: 62 }
            ]
          },
          {
            nombre: "DIEGO",
            selecciones: [
              { nombre: "Kane Tanaka", edad: 119 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Enrique San Francisco", edad: 66 },
              { nombre: "Michael Schumacher", edad: 56 },
              { nombre: "Sof√≠a de Grecia", edad: 87 },
              { nombre: "Araceli Hidalgo", edad: 101 },
              { nombre: "Miguel Bos√©", edad: 69 },
              { nombre: "Isabel II", edad: 96 },
              { nombre: "Jordi ENP", edad: 31 },
              { nombre: "Chispas", edad: 3 }
            ]
          },
          {
            nombre: "RUB√âN",
            selecciones: [
              { nombre: "Shigeru Miyamoto", edad: 73 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Charlie Sheen", edad: 60 },
              { nombre: "Billie Eilish", edad: 24 },
              { nombre: "Xi Jinping", edad: 72 },
              { nombre: "Snoop Dogg", edad: 54 },
              { nombre: "Robert DeNiro", edad: 82 },
              { nombre: "Arnold Schwarzenegger", edad: 78 },
              { nombre: "Juan Mu√±oz", edad: 60 },
              { nombre: "Omar √Ålvarez", edad: 33 }
            ]
          },
        ],
        muertos: ["Enrique San Francisco", "Omar √Ålvarez"]
      },
      
      "2022": {
        jugadores: [
          {
            nombre: "DAVID",
            selecciones: [
              { nombre: "Ghislaine Maxwell", edad: 64 },
              { nombre: "Yoko Ono", edad: 92 },
              { nombre: "Demi Lovato", edad: 33 },
              { nombre: "Pel√©", edad: 82 },
              { nombre: "Carmen Sevilla", edad: 93 },
              { nombre: "Sixtynine", edad: 29 },
              { nombre: "Isabel II", edad: 96 },
              { nombre: "Joe Exotic", edad: 62 },
              { nombre: "Gary Busey", edad: 81 },
              { nombre: "Leticia Sabater", edad: 59 }
            ]
          },
          {
            nombre: "DIEGO",
            selecciones: [
              { nombre: "Kane Tanaka", edad: 119 },
              { nombre: "Joaquin Sabina", edad: 76 },
              { nombre: "Pel√©", edad: 82 },
              { nombre: "Ignatius", edad: 52 },
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Papa Francisco", edad: 89 },
              { nombre: "Mick Jagger", edad: 82 },
              { nombre: "Ana Rosa Quintana", edad: 69 },
              { nombre: "Manolo el del Bombo", edad: 76 },
              { nombre: "Jordi Hurtado", edad: 68 }
            ]
          },
          {
            nombre: "RUB√âN",
            selecciones: [
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Orslok", edad: 30 },
              { nombre: "Robert A Kottick", edad: 62 },
              { nombre: "Pratibha Devisingh Patil", edad: 91 },
              { nombre: "Dalai Lama XIV", edad: 90 },
              { nombre: "Baron Divavesi Waqa", edad: 66 },
              { nombre: "Dairo Antonio √ösuga David", edad: 54 },
              { nombre: "Akihito", edad: 92 },
              { nombre: "Sisiku Julius Ayuk Tabe", edad: 60 },
              { nombre: "Francisco Camps", edad: 63 }
            ]
          },
          {
            nombre: "ALBERTO",
            selecciones: [
              { nombre: "Isabel II", edad: 96 },
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Benedicto XVI", edad: 95 },
              { nombre: "Ana Rosa Quintana", edad: 69 },
              { nombre: "Antonio Resines", edad: 71 },
              { nombre: "Yoko Ono", edad: 92 },
              { nombre: "Dick van Dyke", edad: 100 },
              { nombre: "Jimmy Carter", edad: 100 },
              { nombre: "Amancio Ortega", edad: 89 },
              { nombre: "Joan Manuel Serrat", edad: 82 }
            ]
          }
        ],
        muertos: ["Pel√©", "Isabel II", "Kane Tanaka","Benedicto XVI"]
      },
       "2023": {
        jugadores: [
          {
            nombre: "DAVID",
            selecciones: [
              { nombre: "Adolfo Hitler", edad: 59 },
              { nombre: "Jimmy Carter", edad: 100 },
              { nombre: "Esperanza Aguirre", edad: 73 },
              { nombre: "Julian Mu√±oz", edad: 77 },
              { nombre: "Ar√©valo", edad: 77 },
              { nombre: "Willie Nelson", edad: 92 },
              { nombre: "Yoko Ono", edad: 92 },
              { nombre: "Gerard Depardieu", edad: 77 },
              { nombre: "Joe Biden", edad: 83 },
              { nombre: "Concha Velasco", edad: 84 }
            ]
          },
          {
            nombre: "DIEGO",
            selecciones: [
              { nombre: "Jimmy Carter", edad: 100 },
              { nombre: "Concha Velasco", edad: 84 },
              { nombre: "Zelenski", edad: 47 },
              { nombre: "Papa Giorgio", edad: 71 },
              { nombre: "Joaquin Sabina", edad: 76 },
              { nombre: "Jordi Pujol", edad: 95 },
              { nombre: "Zazza el Italiano", edad: 33 },
              { nombre: "Mar√≠a Teresa Campos", edad: 82 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Andrew Tate", edad: 39 }
            ]
          },
          {
            nombre: "RUB√âN",
            selecciones: [
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "The Black Alien Project", edad: 36 },
              { nombre: "Michael Schumacher", edad: 56 },
              { nombre: "Carmen Sevilla", edad: 93 },
              { nombre: "Jos√© Luis Gil", edad: 68 },
              { nombre: "Dalai Lama XIV", edad: 90 },
              { nombre: "Akihito", edad: 92 },
              { nombre: "Jimmy Carter", edad: 100 },
              { nombre: "Lil Uzi Vert", edad: 30 }
            ]
          },
          {
            nombre: "ALBERTO",
            selecciones: [
              { nombre: "Jimmy Carter", edad: 100 },
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Ana Rosa Quintana", edad: 69 },
              { nombre: "Felipe Gonz√°lez", edad: 83 },
              { nombre: "Miguel √Ångel Revilla", edad: 82 },
              { nombre: "Amaia Montero", edad: 49 },
              { nombre: "Concha Velasco", edad: 84 },
              { nombre: "Eduardo Zaplana", edad: 69 },
              { nombre: "Ram√≥n el Vanidoso", edad: 69 }
            ]
          }
        ],
        muertos: ["Concha Velasco", "Mar√≠a Teresa Campos", "Carmen Sevilla"]
      },
      
      "2024": {
        jugadores: [
          {
            nombre: "DAVID",
            selecciones: [
              { nombre: "Beckembauer", edad: 79 },
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Julio Iglesias", edad: 82 },
              { nombre: "Yoko Ono", edad: 92 },
              { nombre: "Jimmy Carter", edad: 100 },
              { nombre: "Tamames", edad: 92 },
              { nombre: "Chuck Norris", edad: 85 },
              { nombre: "Paco S√°nz", edad: 55 },
              { nombre: "Dandy de Barcelona", edad: 53 },
              { nombre: "Michael Caine", edad: 92 }
            ]
          },
          {
            nombre: "DIEGO",
            selecciones: [
              { nombre: "Dandy de Barcelona", edad: 53 },
              { nombre: "Joaquin Sabina", edad: 76 },
              { nombre: "Lucas", edad: 43 },
              { nombre: "Beckembauer", edad: 79 },
              { nombre: "Silvia Pinal", edad: 93 },
              { nombre: "Jimmy Carter", edad: 100 },
              { nombre: "Ra√∫l Castro", edad: 94 },
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Dragisa Gudelj", edad: 28 },
              { nombre: "Unzu√©", edad: 58 }
            ]
          },
          {
            nombre: "RUB√âN",
            selecciones: [
              { nombre: "Akihito", edad: 92 },
              { nombre: "Bruce Willis", edad: 70 },
              { nombre: "Maggie Smith", edad: 90 },
              { nombre: "Joan Pradells", edad: 29 },
              { nombre: "Baron Divavesi Waqa", edad: 66 },
              { nombre: "Mijail Jodorkovsky", edad: 64 },
              { nombre: "Bud Anderson", edad: 102 },
              { nombre: "Orslok", edad: 30 },
              { nombre: "Papa Francisco", edad: 89 },
              { nombre: "Jimmy Carter", edad: 100 }
            ]
          },
          {
            nombre: "ALBERTO",
            selecciones: [
              { nombre: "Dandy de Barcelona", edad: 53 },
              { nombre: "Jordi Pujol", edad: 95 },
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Zazza el Italiano", edad: 33 },
              { nombre: "Jimmy Carter", edad: 100 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Morgan Freeman", edad: 88 },
              { nombre: "Raphael", edad: 82 },
              { nombre: "Papa Francisco", edad: 89 },
              { nombre: "Yahya al Sinwar", edad: 62 }
            ]
          }
        ],
        muertos: ["Beckembauer", "Jimmy Carter", "Silvia Pinal", "Maggie Smith", "Bud Anderson", "Yahya al Sinwar"]
      },
      "2025": {
        jugadores: [
          {
            nombre: "DAVID",
            selecciones: [
              { nombre: "Jos√© Mujica", edad: 90 },
              { nombre: "Papa Francisco", edad: 89 },
              { nombre: "Joaquin Sabina", edad: 76 },
              { nombre: "Noam Chomsky", edad: 97 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Buzz Aldrin", edad: 95 },
              { nombre: "Jack Nicholson", edad: 88 },
              { nombre: "Dalai Lama XIV", edad: 90 },
              { nombre: "Judi Dench", edad: 91 },
              { nombre: "Raphael", edad: 82 }
            ]
          },
          {
            nombre: "DIEGO",
            selecciones: [
              { nombre: "Inah Canabarro Lucas", edad: 117 },
              { nombre: "Raphael", edad: 82 },
              { nombre: "Dandy de Barcelona", edad: 53 },
              { nombre: "Jordi Pujol", edad: 95 },
              { nombre: "Jos√© Mujica", edad: 90 },
              { nombre: "Lidia Lozano", edad: 65 },
              { nombre: "Mounir Nasroui", edad: 39 },
              { nombre: "Manolo el del Bombo", edad: 76 },
              { nombre: "Joan Pradells", edad: 29 },
              { nombre: "Jordi Hurtado", edad: 68 }
            ]
          },
          {
            nombre: "RUB√âN",
            selecciones: [
              { nombre: "David Attenborough", edad: 99 },
              { nombre: "Shigeru Miyamoto", edad: 73 },
              { nombre: "John Williams", edad: 93 },
              { nombre: "Raphael", edad: 82 },
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Dick Van Dyke", edad: 100 },
              { nombre: "Akihito", edad: 92 },
              { nombre: "Dalai Lama XIV", edad: 90 },
              { nombre: "Khalil al-Hayya", edad: 65 },
              { nombre: "Dave Kunst", edad: 86 }
            ]
          },
          {
            nombre: "ALBERTO",
            selecciones: [
              { nombre: "Dandy de Barcelona", edad: 53 },
              { nombre: "Clint Eastwood", edad: 95 },
              { nombre: "Raphael", edad: 82 },
              { nombre: "Buzz Aldrin", edad: 95 },
              { nombre: "Papa Francisco", edad: 89 },
              { nombre: "Jean-Marie Le Pen", edad: 97 },
              { nombre: "Joe Biden", edad: 83 },
              { nombre: "Juan Carlos I", edad: 87 },
              { nombre: "Julio Iglesias", edad: 82 },
              { nombre: "Alberto Romero", edad: 32 }
            ]
          }
        ],
        muertos: ["Jos√© Mujica", "Papa Francisco","Inah Canabarro Lucas", "Manolo el del Bombo", "Jean-Marie Le Pen"]
      }
    };

   let a√±oSeleccionado = "2025";
    let data = datosPorA√±o[a√±oSeleccionado];

    function calcularPuntos(jugador, muertos) {
      return jugador.selecciones.filter(sel => muertos.includes(sel.nombre)).length;
    }

    function calcularEdadMedia(selecciones) {
      const validos = selecciones.filter(s => typeof s.edad === 'number' && s.edad > 0);
      if (validos.length === 0) return '-';
      const suma = validos.reduce((acc, sel) => acc + sel.edad, 0);
      return (suma / validos.length).toFixed(1);
    }

    function calcularEdadMediaAciertos(selecciones, muertos) {
      const aciertos = selecciones.filter(sel => muertos.includes(sel.nombre));
      if (aciertos.length === 0) return '-';
      const suma = aciertos.reduce((acc, sel) => acc + sel.edad, 0);
      return (suma / aciertos.length).toFixed(1);
    }

    function cambiarA√±o(anio) {
      a√±oSeleccionado = anio;
      data = datosPorA√±o[anio];
      render();
    }

    function render() {
      const detalleDiv = document.getElementById("detalle");
      const tablaRanking = document.getElementById("tabla-ranking");
      const tablaEstadisticas = document.getElementById("tabla-estadisticas");
      const nombreGanador = document.getElementById("nombre-ganador");

      // Ranking
      const resultados = data.jugadores.map(j => ({
        nombre: j.nombre,
        puntos: calcularPuntos(j, data.muertos)
      })).sort((a, b) => b.puntos - a.puntos);

      tablaRanking.innerHTML = `
        <ol>
          ${resultados.map(r => `<li><strong>${r.nombre}</strong>: ${r.puntos} punto${r.puntos !== 1 ? 's' : ''}</li>`).join("")}
        </ol>
      `;

      // Ganador/es
      const maxPuntos = resultados[0]?.puntos || 0;
      const ganadores = resultados.filter(r => r.puntos === maxPuntos && maxPuntos > 0);
      nombreGanador.innerHTML = ganadores.length
        ? ganadores.map(g => `üèÜ ${g.nombre}`).join("<br>")
        : '‚Äî';

      // Estad√≠sticas
      const cabecera = `<tr><th>Jugador</th><th>Edad Media</th><th>Aciertos</th><th>Edad Media Aciertos</th></tr>`;
      const filas = data.jugadores.map(j => {
        const puntos = calcularPuntos(j, data.muertos);
        return `<tr>
          <td>${j.nombre}</td>
          <td>${calcularEdadMedia(j.selecciones)}</td>
          <td>${puntos}</td>
          <td>${calcularEdadMediaAciertos(j.selecciones, data.muertos)}</td>
        </tr>`;
      }).join("");
      tablaEstadisticas.innerHTML = `<table>${cabecera}${filas}</table>`;

      // Detalle por jugador
      detalleDiv.innerHTML = `
        ${data.jugadores.map(j => `
          <div class="jugador">
            <h3>${j.nombre}</h3>
            <ul>
              ${j.selecciones.map(s => `
                <li class="${data.muertos.includes(s.nombre) ? 'muerto' : ''}">
                  ${s.nombre} (${s.edad} a√±os)
                </li>
              `).join("")}
            </ul>
          </div>
        `).join("")}
      `;
    }

    render();
  </script>
</body>
</html>
